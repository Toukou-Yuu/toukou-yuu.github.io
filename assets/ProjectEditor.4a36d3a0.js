import{l as D,v as w}from"./element-plus.ffa3b174.js";import{u as M}from"./vuex.a1b43142.js";import{_ as L,M as g}from"./index.5cd04c4e.js";import{e as m}from"./monaco-editor.b14c738f.js";import{d as x,r as f,v as I,V as S,o as C,c as k,a as t,Q as c,O as v,b1 as V,b0 as N,S as O,J as B}from"./@vue.0303ec2e.js";import"./@vueuse.a950c1ff.js";import"./dayjs.b9cd1035.js";import"./axios.6b3d3030.js";import"./@element-plus.90e88801.js";import"./@ctrl.2e36ce53.js";import"./lodash-es.bf1863bb.js";import"./escape-html.e5dfadb9.js";import"./@popperjs.da6c49cb.js";import"./normalize-wheel-es.1c4ac15a.js";import"./vue-router.e6db8529.js";import"./mavon-editor.09f2d933.js";import"./vue.97e54053.js";const T=i=>(V("data-v-4dd65eb4"),i=i(),N(),i),$={class:"pj"},A={class:"pj-resources"},H=T(()=>t("div",{class:"pj-resources__head"},[t("div",{class:"pj-resources__head--title"},"\u6587\u4EF6\u8D44\u6E90\u5217\u8868")],-1)),P={class:"pj-resources__content"},q={class:"tree-node"},J={key:0,class:"btn-group"},Q=["onClick"],R=["onClick"],G=x({setup(i){let d=f(""),u,p=f("");const h=f(null),_=M(),E=f(_.state.code.files);I(()=>{u=m.create(h.value,{model:m.createModel("",void 0,void 0),tabSize:2,smoothScrolling:!0,scrollBeyondLastLine:!1,scrollbar:{useShadows:!1,verticalHasArrows:!1,horizontalHasArrows:!1,verticalScrollbarSize:10,horizontalScrollbarSize:10,arrowSize:10},automaticLayout:!0,selectOnLineNumbers:!0,roundedSelection:!1,readOnly:!1,cursorStyle:"line",useTabStops:!1,fontSize:17,minimap:{enabled:!1},quickSuggestionsDelay:100}),u.onDidChangeModelContent(()=>{if(p.value==="")return;d.value=u.getValue();let s={name:p.value,code:d.value},n=_.state.code.code.files;l(n,s),_.dispatch("code/setCodeData",n);function l(e,a){for(let o=0;o<e.length;o++){if(e[o].label===a.name){e[o].code.code=a.code;return}e[o].children&&l(e[o].children,a)}}})});function y(s){console.log(s),g.warning("\u6682\u4E0D\u652F\u6301\uFF0C\u5495\u5495\u5495")}function F(s,n){console.log(s),console.log(n),g.warning("\u6682\u4E0D\u652F\u6301\uFF0C\u5495\u5495\u5495")}function j(s){p.value=s.label,_.state.code.files.find(e=>l(e,p.value));function l(e,a){if(e.isLeaf){if(e.label===a){d.value=e.code.code;let o=e.code.language;const r=m.createModel(d.value,o);u.setModel(r)}}else e.children.forEach(o=>{l(o,a)})}}return(s,n)=>{const l=S("plus"),e=D,a=S("delete"),o=w;return C(),k("div",$,[t("div",A,[H,t("div",P,[c(o,{class:"pj-resources__content--tree",draggable:"",data:E.value,"default-expand-all":"","node-key":"id",onNodeClick:j},{default:v(({node:r,data:b})=>[t("span",q,[t("span",null,O(r.label),1),r.isLeaf?B("",!0):(C(),k("span",J,[t("button",{class:"icon-btn",onClick:z=>y(b)},[c(e,{size:14},{default:v(()=>[c(l)]),_:1})],8,Q),t("button",{class:"icon-btn",onClick:z=>F(r,b)},[c(e,{size:14},{default:v(()=>[c(a)]),_:1})],8,R)]))])]),_:1},8,["data"])])]),t("div",{class:"pj-editor",ref_key:"editor",ref:h},null,512)])}}});var ue=L(G,[["__scopeId","data-v-4dd65eb4"]]);export{ue as default};
