var z=Object.defineProperty;var W=(a,l,r)=>l in a?z(a,l,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[l]=r;var h=(a,l,r)=>(W(a,typeof l!="symbol"?l+"":l,r),r);import{l as H}from"./element-plus.ffa3b174.js";import{d as M,r as _,W as S,w as F,V as U,o as Z,c as $,a as e,Q as E,O as D,H as c,ae as d,u as n,b1 as K,b0 as j}from"./@vue.0303ec2e.js";import{u as Q}from"./vue-router.e6db8529.js";import{u as Y}from"./vuex.a1b43142.js";import{H as G,_ as J,m as f}from"./index.88c38377.js";import"./@vueuse.a950c1ff.js";import"./dayjs.b9cd1035.js";import"./axios.6b3d3030.js";import"./@element-plus.90e88801.js";import"./@ctrl.2e36ce53.js";import"./lodash-es.bf1863bb.js";import"./escape-html.e5dfadb9.js";import"./@popperjs.da6c49cb.js";import"./normalize-wheel-es.1c4ac15a.js";import"./mavon-editor.09f2d933.js";import"./vue.97e54053.js";const y="http://localhost:8080";function ee(a){const l=`${y}/admin/user/login`;return G.post(l,a).then(r=>r.data).catch(r=>r)}function se(a){const l=`${y}/admin/user/register`;return G.post(l,a).then(r=>r.data).catch(r=>r)}class te{constructor(){h(this,"OK",200);h(this,"CREATED",201);h(this,"ACCEPTED",202);h(this,"NOT_FOUND",404)}}const x=new te;const u=a=>(K("data-v-27ab5aee"),a=a(),j(),a),oe={class:"container"},ue=u(()=>e("h1",{class:"title"}," \u5F00\u53D1\u8FDB\u5EA630% ",-1)),ne=u(()=>e("summary",{class:"summary"},[e("s",null,"\u4E0D\u7BA1\u6709\u4EC0\u4E48\u529F\u80FD\uFF0C\u8981\u4E0D\u5148\u8BD5\u8BD5\u518D\u8BF4")],-1)),ie={class:"buttons"},ae={class:"document",href:"javascript:;"},re=u(()=>e("span",{class:"link-text"}," \u67E5\u770B\u6587\u6863 ",-1)),le=u(()=>e("a",{class:"gitee-link",target:"_blank",href:"https://gitee.com/pj_yools/yools-personal-workstation-ui"},[e("svg",{width:"1rem",height:"1rem",xmlns:"http://www.w3.org/2000/svg",name:"zi_tmGitee",viewBox:"0 0 2000 2000"},[e("path",{d:"M898 1992q183 0 344-69.5t283-191.5q122-122 191.5-283t69.5-344q0-183-69.5-344T1525 477q-122-122-283-191.5T898 216q-184 0-345 69.5T270 477Q148 599 78.5 760T9 1104q0 183 69.5 344T270 1731q122 122 283 191.5t345 69.5zm199-400H448q-17 0-30.5-14t-13.5-30V932q0-89 43.5-163.5T565 649q74-45 166-45h616q17 0 30.5 14t13.5 31v111q0 16-13.5 30t-30.5 14H731q-54 0-93.5 39.5T598 937v422q0 17 14 30.5t30 13.5h416q55 0 94.5-39.5t39.5-93.5v-22q0-17-14-30.5t-31-13.5H842q-17 0-30.5-14t-13.5-31v-111q0-16 13.5-30t30.5-14h505q17 0 30.5 14t13.5 30v250q0 121-86.5 207.5T1097 1592z"})]),e("span",{class:"link-text"},"Star it on Gitee!")],-1)),ce=u(()=>e("div",{class:"start-text"}," \u2728 Get Started ",-1)),de=[ce],me={class:"back-box"},_e=u(()=>e("div",{class:"back-text"}," \u8FD4\u56DE\u9996\u9875 ",-1)),pe={class:"login"},Ee={class:"login-form"},fe=u(()=>e("h1",{class:"title"},"\u767B\u5F55\u4F60\u7684\u5DE5\u4F5C\u7AD9",-1)),ge={class:"login-form-item"},ve={class:"login-form-item"},he=u(()=>e("span",{class:"login-button-text"},"Login Account",-1)),Fe=[he],be=u(()=>e("span",null,"\u6CA1\u6709\u8D26\u53F7\u5417\uFF1F",-1)),Ce=u(()=>e("span",{class:"register-button-text"},"\u70B9\u51FB\u6CE8\u518C",-1)),Ae=[Ce],De={class:"back-box"},Be=u(()=>e("div",{class:"back-text"}," \u8FD4\u56DE\u767B\u5F55 ",-1)),ke={class:"register-form"},we=u(()=>e("h1",{class:"register-form-title"},"\u6CE8\u518C",-1)),Te={class:"register-form-items"},Re=u(()=>e("span",{class:"register-form-split-item"},"\u7528\u6237\u57FA\u672C\u4FE1\u606F",-1)),Oe={class:"register-form-item"},Le=u(()=>e("label",{for:"username",class:"register-form-label-item"},"\u7528\u6237\u540D",-1)),Ne={class:"register-form-item"},Se=u(()=>e("label",{for:"account",class:"register-form-label-item"},"\u8D26\u53F7",-1)),Ue={class:"register-form-item"},xe=u(()=>e("label",{for:"password",class:"register-form-label-item"},"\u5BC6\u7801",-1)),Ge=u(()=>e("span",{class:"register-form-split-item"},"\u7B2C\u4E09\u65B9\u8D26\u53F7\u7ED1\u5B9A",-1)),ye={class:"register-form-item"},Ie=u(()=>e("label",{for:"gitee-username",class:"register-form-label-item"},"Gitee \u8D26\u53F7",-1)),Pe={class:"register-form-item"},qe=u(()=>e("label",{for:"gitee-token",class:"register-form-label-item"},"Gitee Token",-1)),Xe={class:"register-form-item"},Ve=u(()=>e("label",{for:"bing-token",class:"register-form-label-item"},"Bing Token",-1)),ze={class:"register-form-item"},We=u(()=>e("label",{for:"netease-username",class:"register-form-label-item"},"\u7F51\u6613\u4E91\u97F3\u4E50\u8D26\u53F7",-1)),He={class:"register-form-item"},Me=u(()=>e("label",{for:"netease-password",class:"register-form-label-item"},"\u7F51\u6613\u4E91\u97F3\u4E50\u5BC6\u7801",-1)),Ze=M({setup(a){const l=Q(),r=Y(),b=_(null),g=_(null),C=_(null),B=_(null),k=_(null),w=_(null),T=_(null),R=_(null);let m=S({username:"Nanami",password:"Nanamiyuu123"}),t=S({username:"",account:"",password:"",giteeAccount:"",giteeToken:"",bingToken:"",neteaseAccount:"",neteasePassword:""});function I(){g.value.classList.add("open"),b.value.classList.add("close")}function O(){g.value.classList.remove("open"),b.value.classList.remove("close")}function P(){g.value.classList.remove("open"),C.value.classList.add("open")}function L(){C.value.classList.remove("open"),g.value.classList.add("open")}async function q(){if(!m.username||!m.password){f.error("\u7528\u6237\u540D\u6216\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A");return}const o=await ee(m);o.code==x.OK?(f.success(o.msg),l.getRoutes().forEach(s=>{s.meta.accessible=!0}),r.dispatch("admin/setLoginState",!0),O()):f.error(o.msg)}async function X(){if(!t.username||!t.account||!t.password){f.error("\u7528\u6237\u540D\u3001\u8D26\u53F7\u6216\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A");return}const o=await se(t);o.code==x.OK?(f.success(o.msg),L()):f.error(o.msg)}function V(){for(const o in t)t[o]=""}function v(o,s,p){o.match(s)?(p.classList.remove("invalid"),p.classList.add("valid")):(p.classList.remove("valid"),p.classList.add("invalid"))}return F(()=>m.username,o=>{v(o,"^[\u4E00-\u9FA5a-zA-Z0-9_-]{4,16}$",B.value)}),F(()=>m.password,o=>{v(o,"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[^]{6,16}$",k.value)}),F(()=>t.username,o=>{v(o,"^[\u4E00-\u9FA5a-zA-Z0-9_-]{4,16}$",w.value)}),F(()=>t.account,o=>{v(o,"^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\\.[a-zA-Z0-9-]+)*\\.[a-zA-Z0-9]{2,6}$",T.value)}),F(()=>t.password,o=>{v(o,"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[^]{6,16}$",R.value)}),(o,s)=>{const p=U("document"),A=H,N=U("back");return Z(),$("div",oe,[e("div",{class:"welcome-box",ref_key:"WELCOME_BOX",ref:b},[ue,ne,e("div",ie,[e("a",ae,[E(A,null,{default:D(()=>[E(p)]),_:1}),re]),le,e("button",{class:"get-started",onClick:I},de)])],512),e("div",{class:"login-box",ref_key:"LOGIN_BOX",ref:g},[e("div",me,[e("button",{class:"back-button",onClick:O},[E(A,null,{default:D(()=>[E(N)]),_:1}),_e])]),e("div",pe,[e("div",Ee,[fe,e("div",ge,[c(e("input",{class:"login-form-input","onUpdate:modelValue":s[0]||(s[0]=i=>n(m).username=i),ref_key:"LOGIN_USERNAME",ref:B,placeholder:"\u8F93\u5165\u7528\u6237\u540D"},null,512),[[d,n(m).username]])]),e("div",ve,[c(e("input",{class:"login-form-input","onUpdate:modelValue":s[1]||(s[1]=i=>n(m).password=i),ref_key:"LOGIN_PASSWORD",ref:k,placeholder:"\u8F93\u5165\u5BC6\u7801",type:"password"},null,512),[[d,n(m).password]])])]),e("div",{class:"login-button-box"},[e("button",{class:"login-button",onClick:q},Fe)]),e("div",{class:"register-button-box"},[be,e("button",{class:"register-button",onClick:P},Ae)])])],512),e("div",{class:"register-box",ref_key:"REGISTER_BOX",ref:C},[e("div",De,[e("button",{class:"back-button",onClick:L},[E(A,null,{default:D(()=>[E(N)]),_:1}),Be])]),e("div",ke,[we,e("div",Te,[Re,e("div",Oe,[Le,c(e("input",{id:"username",class:"register-form-input-item","onUpdate:modelValue":s[2]||(s[2]=i=>n(t).username=i),ref_key:"USERNAME_INPUT",ref:w,placeholder:"4-16\u4F4D\uFF0C\u53EF\u4EE5\u662F\u6C49\u5B57\u3001\u5B57\u6BCD\u3001\u6570\u5B57\u3001\u4E0B\u5212\u7EBF"},null,512),[[d,n(t).username]])]),e("div",Ne,[Se,c(e("input",{id:"account",class:"register-form-input-item","onUpdate:modelValue":s[3]||(s[3]=i=>n(t).account=i),ref_key:"ACCOUNT_INPUT",ref:T,placeholder:"\u90AE\u7BB1: 123456@xxx.com"},null,512),[[d,n(t).account]])]),e("div",Ue,[xe,c(e("input",{type:"password",class:"register-form-input-item","onUpdate:modelValue":s[4]||(s[4]=i=>n(t).password=i),ref_key:"PASSWORD_INPUT",ref:R,placeholder:"8-16\u4F4D\uFF0C\u81F3\u5C11\u4E00\u4F4D\u5927\u5199\u5B57\u6BCD\u3001\u5C0F\u5199\u5B57\u6BCD\u3001\u6570\u5B57"},null,512),[[d,n(t).password]])]),Ge,e("div",ye,[Ie,c(e("input",{id:"gitee-username",class:"register-form-input-item","onUpdate:modelValue":s[5]||(s[5]=i=>n(t).giteeAccount=i),placeholder:"\u4F60\u7684\u7801\u4E91\u7528\u6237\u540D"},null,512),[[d,n(t).giteeAccount]])]),e("div",Pe,[qe,c(e("input",{id:"gitee-token",class:"register-form-input-item","onUpdate:modelValue":s[6]||(s[6]=i=>n(t).giteeToken=i),type:"password",placeholder:"\u4F60\u7684\u7801\u4E91\u79C1\u4EBA\u4EE4\u724C"},null,512),[[d,n(t).giteeToken]])]),e("div",Xe,[Ve,c(e("input",{id:"bing-token",class:"register-form-input-item","onUpdate:modelValue":s[7]||(s[7]=i=>n(t).bingToken=i),type:"password",placeholder:"\u4F60\u7684\u5FC5\u5E94\u5BC6\u94A5"},null,512),[[d,n(t).bingToken]])]),e("div",ze,[We,c(e("input",{id:"netease-username",class:"register-form-input-item","onUpdate:modelValue":s[8]||(s[8]=i=>n(t).neteaseAccount=i),placeholder:"\u4F60\u7684\u7F51\u6613\u4E91\u97F3\u4E50\u8D26\u53F7"},null,512),[[d,n(t).neteaseAccount]])]),e("div",He,[Me,c(e("input",{id:"netease-password",class:"register-form-input-item","onUpdate:modelValue":s[9]||(s[9]=i=>n(t).neteasePassword=i),type:"password",placeholder:"\u4F60\u7684\u7F51\u6613\u4E91\u97F3\u4E50\u5BC6\u7801"},null,512),[[d,n(t).neteasePassword]])])]),e("div",{class:"register-form-buttons"},[e("button",{class:"register-submit",onClick:X},"\u6CE8\u518C"),e("button",{class:"register-clear",onClick:V},"\u6E05\u7A7A")])])],512)])}}});var ds=J(Ze,[["__scopeId","data-v-27ab5aee"]]);export{ds as default};
