var H=Object.defineProperty,q=Object.defineProperties;var U=Object.getOwnPropertyDescriptors;var T=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var A=(n,a,o)=>a in n?H(n,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[a]=o,I=(n,a)=>{for(var o in a||(a={}))G.call(a,o)&&A(n,o,a[o]);if(T)for(var o of T(a))X.call(a,o)&&A(n,o,a[o]);return n},M=(n,a)=>q(n,U(a));import{p as P,q as W,l as K}from"./element-plus.ffa3b174.js";import{d as Q,r as _,W as J,v as Y,V as Z,o as v,c as g,a as e,H as E,ae as b,u as i,Q as F,s as $,O as w,K as S,a2 as O,b1 as ee,b0 as te,_ as ae,M as se,S as m}from"./@vue.0303ec2e.js";import{e as f}from"./monaco-editor.b14c738f.js";import{_ as oe,H as le,m as x}from"./index.99eec98a.js";import"./@vueuse.a950c1ff.js";import"./dayjs.b9cd1035.js";import"./axios.6b3d3030.js";import"./@element-plus.90e88801.js";import"./@ctrl.2e36ce53.js";import"./lodash-es.bf1863bb.js";import"./escape-html.e5dfadb9.js";import"./@popperjs.da6c49cb.js";import"./normalize-wheel-es.1c4ac15a.js";import"./vuex.a1b43142.js";import"./vue-router.e6db8529.js";import"./mavon-editor.09f2d933.js";import"./vue.97e54053.js";const p=n=>(ee("data-v-0554e4da"),n=n(),te(),n),ne={class:"create-box"},re=p(()=>e("div",{class:"create__title"},[e("span",{class:"create__title--text"},"\u521B\u5EFA\u65B0\u7684\u4EE3\u7801\u7247\u6BB5")],-1)),ce={class:"create__name"},ue=p(()=>e("span",{class:"create__name--frag"},"\u4EE3\u7801\u7247\u6BB5\u540D\u79F0",-1)),ie={class:"create__language"},de=p(()=>e("span",{class:"create__code--frag"},"\u9009\u62E9\u8BED\u8A00",-1)),_e={class:"create__code"},pe=p(()=>e("span",{class:"create__code--frag"},"\u4EE3\u7801\u7247\u6BB5",-1)),ve={class:"create__desc"},ge=p(()=>e("span",{class:"create__desc--text"},"\u4EE3\u7801\u7247\u6BB5\u63CF\u8FF0",-1)),me={class:"create__tags"},fe=p(()=>e("span",{class:"create__tags--text"},"\u6807\u7B7E",-1)),he={class:"frag"},Ee={class:"frag__nav"},be=ae("\u65B0\u5EFA "),Fe={class:"frag-content"},Se=["textContent"],xe={class:"frag-content__container--box"},Ce=["textContent"],Be=["textContent"],ye=["textContent"],De=Q({setup(n){let a=_(""),o;const C=_(null),k=_([{language:"java",value:"java",disabled:!0},{language:"c++",value:"c++",disabled:!0},{language:"c",value:"c",disabled:!0},{language:"typescript",value:"typescript"},{language:"javascript",value:"javascript"}]),u=_(null);let B=_([{name:"\u5FEB\u901F\u6392\u5E8F\u6A21\u677F",content:`function quickSort(arr: number[]) {
  if (arr.length <= 1) return arr;
  const pivot = arr[0];
  const left = [];
  const right = [];
  for (let i = 1; i < arr.length; i++) {
    if (arr[i] < pivot) {
      left.push(arr[i]);
    } else {
      right.push(arr[i]);
    }
  }
  return [...quickSort(left), pivot, ...quickSort(right)];
}
`,language:"typescript",savedTime:123456,tags:"javascript  algorithm",description:"js\u7248\u7684\u5FEB\u901F\u6392\u5E8F"}]),d=_("");const l=J({name:"",content:"",language:"",savedTime:0,tags:"",description:""});Y(()=>{const r=f.createModel(a.value,void 0,void 0);o=f.create(C.value,{model:r,tabSize:2,smoothScrolling:!0,scrollBeyondLastLine:!1,lineNumbersMinChars:0,scrollbar:{useShadows:!1,verticalHasArrows:!1,horizontalHasArrows:!1,verticalScrollbarSize:10,horizontalScrollbarSize:10,arrowSize:10},automaticLayout:!0,selectOnLineNumbers:!0,roundedSelection:!1,readOnly:!1,cursorStyle:"line",useTabStops:!1,fontSize:17,minimap:{enabled:!1},quickSuggestionsDelay:100}),o.onDidChangeModelContent(()=>{a.value=o.getValue(),l.content=a.value})});function L(){u.value.style.width="1px";const r="600px",t=setInterval(()=>{let c=u.value.style.width;parseFloat(c)<parseFloat(r)?(c=(parseFloat(c)+25).toString()+"px",u.value.style.width=c):(u.value.style.borderRight="2px solid #ccc",clearInterval(t))},1)}function V(r){d.value=r,l.language=r;const t=f.createModel(a.value,d.value);o.setModel(t)}function R(){let r=M(I({},l),{savedTime:new Date().getMilliseconds()}),t="http://localhost:8003/frag/save";le.get(t,r).then(c=>{if(c.data.code===201){B.value.push(r),l.name="",l.content="",l.language="",l.savedTime=0,l.tags="",l.description="";const h=f.createModel("",void 0);o.setModel(h),d.value="",a.value="",x.success("\u4FDD\u5B58\u6210\u529F"),y()}else x.error(c.data.message)}).catch(c=>x.error(c))}function y(){const r=setInterval(()=>{let t=u.value.style.width;parseFloat(t)>=15?(t=(parseFloat(t)-15).toString()+"px",u.value.style.width=t):(u.value.style.borderRight="none",clearInterval(r))},1)}return(r,t)=>{const c=P,h=W,N=Z("plus"),z=K;return v(),g(S,null,[e("div",ne,[e("div",{class:"create",ref_key:"CREATE_BOX",ref:u},[re,e("div",ce,[ue,E(e("input",{class:"create__name--input",placeholder:"\u8F93\u5165\u540D\u79F0","onUpdate:modelValue":t[0]||(t[0]=s=>i(l).name=s)},null,512),[[b,i(l).name]])]),e("div",ie,[de,F(h,{modelValue:i(d),"onUpdate:modelValue":t[1]||(t[1]=s=>$(d)?d.value=s:d=s),placeholder:"\u9009\u62E9\u8BED\u8A00",onChange:V},{default:w(()=>[(v(!0),g(S,null,O(k.value,s=>(v(),se(c,{disabled:s.disabled,key:s.value,label:s.language,value:s.language},null,8,["disabled","label","value"]))),128))]),_:1},8,["modelValue"])]),e("div",_e,[pe,e("div",{class:"create__code--editor",ref_key:"EDITOR",ref:C},null,512)]),e("div",ve,[ge,E(e("input",{class:"create__desc--input",placeholder:"\u8F93\u5165\u63CF\u8FF0","onUpdate:modelValue":t[2]||(t[2]=s=>i(l).description=s)},null,512),[[b,i(l).description]])]),e("div",me,[fe,E(e("input",{class:"create__tags--input",placeholder:"\u8F93\u5165\u6807\u7B7E","onUpdate:modelValue":t[3]||(t[3]=s=>i(l).tags=s)},null,512),[[b,i(l).tags]])]),e("div",{class:"create__button"},[e("button",{class:"create__button--submit",onClick:R},"\u63D0\u4EA4"),e("button",{class:"create__button--cancel",onClick:y},"\u53D6\u6D88")])],512)]),e("div",he,[e("div",Ee,[e("button",{class:"frag__nav--create",onClick:L},[F(z,{size:15},{default:w(()=>[F(N)]),_:1}),be])]),e("div",Fe,[(v(!0),g(S,null,O(i(B),(s,j)=>{var D;return v(),g("div",{class:"frag-content__container",key:j},[e("div",{class:"frag-content__container--title",textContent:m(s.name)},null,8,Se),e("div",xe,[e("div",{class:"desc",textContent:m(s.description)},null,8,Ce),e("div",{class:"code-box",textContent:m(s.content)},null,8,Be)]),e("div",{class:"frag-content__container--tags",textContent:m((D=s.tags)==null?void 0:D.toString())},null,8,ye)])}),128))])])],64)}}});var Pe=oe(De,[["__scopeId","data-v-0554e4da"]]);export{Pe as default};
